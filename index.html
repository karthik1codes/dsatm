<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrightWords - Fun Learning for Every Child</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="accessibility.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body class="auth-locked">
    <div id="authOverlay" class="auth-overlay" role="dialog" aria-modal="true" aria-labelledby="authTitle">
        <div class="auth-card">
            <div class="auth-logo">‚ú®</div>
            <h1 id="authTitle">Welcome to BrightWords</h1>
            <p>Sign in with Google to unlock your personalized learning journey.</p>
            <div id="googleSignInButton" class="google-btn-placeholder" aria-live="polite"></div>
            <p class="auth-hint">Need a different account? Use the account switcher in the Google dialog.</p>
        </div>
    </div>

    <div id="appContent" aria-hidden="true">
        <a href="#mainContent" class="skip-link" id="skipLink" aria-describedby="keyboardHint">Skip to main content</a>
        <div id="accessibilityAnnouncement" class="sr-only" role="status" aria-live="polite" aria-atomic="true"></div>
        <div id="keyboardHint" class="sr-only">Use Tab to move between controls. Press Space or Enter to activate buttons.</div>
        <!-- Background Decorations -->
        <div class="bg-decoration" aria-hidden="true">
            <div class="cloud cloud1"></div>
            <div class="cloud cloud2"></div>
            <div class="shape shape-circle"></div>
            <div class="shape shape-triangle"></div>
        </div>

        <!-- Main Container -->
        <div class="main-container">
        <!-- Navigation Header -->
        <header class="site-header" role="banner">
            <nav class="nav-header" role="navigation" aria-label="Primary navigation">
                <div class="logo" aria-label="BrightWords home">
                    <div class="logo-icon" aria-hidden="true">‚ú®</div>
                    <span>BrightWords</span>
                </div>
                
                <div class="nav-menu" role="menubar" aria-label="Primary menu">
                    <a href="#home" class="nav-item" role="menuitem" aria-describedby="keyboardHint">Home</a>
                    <a href="#learn" class="nav-item" role="menuitem" aria-describedby="keyboardHint">Learn</a>
                    <a href="#progress" class="nav-item" role="menuitem" aria-describedby="keyboardHint">Progress</a>
                    <a href="#games" class="nav-item" role="menuitem" aria-describedby="keyboardHint" onclick="scrollToGames(event)">Games</a>
                    <a href="#parents" class="nav-item" role="menuitem" aria-describedby="keyboardHint" onclick="openParentsCommunity(event)">Parents</a>
                </div>

                <div class="user-section" aria-label="User quick actions">
                    <div class="streak-badge" aria-label="Current streak">
                        üî• <span id="streakCount">5</span> Day Streak!
                    </div>
                    <div class="accessibility-controls">
                        <button type="button"
                                id="accessibilityToggle"
                                class="accessibility-toggle"
                                aria-pressed="false"
                                aria-describedby="keyboardHint accessibilityHint">
                            ‚ôø Accessibility Mode
                        </button>
                    </div>
                    <div class="avatar"
                         role="button"
                         tabindex="0"
                         aria-label="Open settings"
                         onclick="toggleSettings()"
                         onkeypress="if(event.key==='Enter' || event.key===' '){toggleSettings(); event.preventDefault();}">
                        üë§
                    </div>
                        <div class="user-auth">
                            <span id="userGreeting" class="user-greeting" aria-live="polite"></span>
                            <button type="button" id="signOutBtn" class="signout-btn" hidden>
                                Sign out
                            </button>
                        </div>
                </div>
            </nav>
        </header>
        <p id="accessibilityHint" class="sr-only">Switch to a high-contrast, dyslexia-friendly view.</p>

        <!-- Main Content -->
        <main id="mainContent" role="main" tabindex="-1">
        <!-- Hero Section -->
        <section class="hero-section" id="home">
            <div class="hero-content">
                <h1 class="hero-title">
                    BrightWords makes learning feel bold, fast, and joyful.
                </h1>
                <p class="hero-description">
                    AI-powered personalized learning support for children with dyslexia and dysgraphia. Build confidence through interactive games, multisensory activities, and real-time feedback!
                </p>
                <ul class="hero-highlights" aria-label="Key benefits">
                    <li>‚ö° 5-minute missions</li>
                    <li>üéØ Personalized boosts</li>
                    <li>üß† Neuro-inclusive fun</li>
                </ul>
                <div class="cta-buttons">
                    <button class="btn-primary" onclick="startLearning()">
                        üöÄ Start Learning
                    </button>
                    <button class="btn-secondary" onclick="watchDemo()">
                        ‚ñ∂Ô∏è Watch Demo
                    </button>
                </div>
            </div>
            
            <div class="hero-visual" aria-label="Animated accessibility spotlights">
                <div class="motion-carousel" role="region" aria-label="Accessibility spotlights" aria-live="polite">
                    <div class="motion-gallery" id="motionGallery">
                    <figure class="motion-card">
                        <div class="motion-badge">Dyslexia Boost</div>
                        <img src="assets/dyslexia.svg" alt="Animated dyslexia-friendly book" class="motion-image">
                        <figcaption>
                            <h4>Color overlays keep letters steady and highlight syllables for confident reading.</h4>
                        </figcaption>
                    </figure>
                    <figure class="motion-card">
                        <div class="motion-badge">Deaf & HoH</div>
                        <img src="assets/hearing.svg" alt="Animated ear with visual sound waves" class="motion-image">
                        <figcaption>
                            <h4>Animated visual cues pulse whenever ChatGPT replies so silent learners never miss guidance.</h4>
                        </figcaption>
                    </figure>
                    <figure class="motion-card">
                        <div class="motion-badge">Blind Explorer</div>
                        <img src="assets/vision-panel.svg" alt="Child with visual impairment learning on a tablet" class="motion-image">
                        <figcaption>
                            <h4>Audio labels, tactile-friendly keyboards, and high-contrast lessons guide low-vision learners screen by screen.</h4>
                        </figcaption>
                    </figure>
                    <figure class="motion-card">
                        <div class="motion-badge">Dysgraphia Play</div>
                        <img src="assets/dysgraphia.svg" alt="Animated pencil tracing letters" class="motion-image">
                        <figcaption>
                            <h4>Guided tracing paths animate slowly to coach handwriting, spacing, and motor planning.</h4>
                        </figcaption>
                    </figure>
                    <figure class="motion-card">
                        <div class="motion-badge">Neurodiverse Calm</div>
                        <img src="assets/neurodiverse.svg" alt="Animated puzzle pieces for neurodiverse focus" class="motion-image">
                        <figcaption>
                            <h4>Soothing puzzle pulses model routines, breathing, and predictable patterns to reduce overwhelm.</h4>
                        </figcaption>
                    </figure>
                    </div>
                    <div class="motion-dots" id="motionDots" role="tablist" aria-label="Select accessibility spotlight"></div>
                </div>
            </div>
        </section>

        <!-- Accessibility Support Section -->
        <section class="accessibility-section" id="support" aria-label="Accessibility support selection">
            <div class="section-header">
                <h2 class="section-title">Choose Your Support Needs</h2>
                <p class="section-subtitle">
                    Pick a profile so we can tailor BrightWords for different accessibility needs.
                </p>
            </div>

            <div class="support-grid">
                <button class="support-card active" data-category="general" onclick="selectSupportCategory('general')">
                    <div class="support-icon">üåà</div>
                    <div class="support-info">
                        <h3>General Learner</h3>
                        <p>Balanced experience with audio, visuals, and guidance.</p>
                    </div>
                </button>

                <button class="support-card" data-category="blind" onclick="selectSupportCategory('blind')">
                    <div class="support-icon">ü¶Æ</div>
                    <div class="support-info">
                        <h3>Blind / Low Vision</h3>
                        <p>Boost speech guidance, keyboard focus, and audio cues.</p>
                    </div>
                </button>

                <button class="support-card" data-category="deaf" onclick="selectSupportCategory('deaf')">
                    <div class="support-icon">ü™Ñ</div>
                    <div class="support-info">
                        <h3>Deaf / Hard of Hearing</h3>
                        <p>Focus on visual hints, captions, and haptic-friendly prompts.</p>
                    </div>
                </button>

                <button class="support-card" data-category="neurodiverse" onclick="selectSupportCategory('neurodiverse')">
                    <div class="support-icon">üß©</div>
                    <div class="support-info">
                        <h3>Neurodiverse</h3>
                        <p>Gentle pacing, extra hints, and distraction-free play.</p>
                    </div>
                </button>
            </div>

            <div class="support-message" id="categoryMessage">
                General support mode active. Select another profile if needed.
            </div>

            <div class="support-feature-panel" id="supportFeaturePanel" aria-live="polite">
                <h3 class="feature-title">Adaptive Boosts</h3>
                <p class="feature-description">Pick a profile above to unlock a focused helper.</p>
            </div>
        </section>

        <!-- Stats Dashboard -->
        <div class="stats-container" id="progress" role="region" aria-label="Learner statistics">
            <div class="stat-card">
                <div class="stat-icon">‚≠ê</div>
                <div class="stat-value" id="totalPoints">250</div>
                <div class="stat-label">Total Points</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìö</div>
                <div class="stat-value" id="lessonsComplete">12</div>
                <div class="stat-label">Lessons Complete</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üèÜ</div>
                <div class="stat-value" id="achievements">8</div>
                <div class="stat-label">Achievements</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚è±Ô∏è</div>
                <div class="stat-value" id="timeSpent">2.5h</div>
                <div class="stat-label">Time Today</div>
            </div>
        </div>

        <!-- Learning Modules Section -->
        <section class="modules-section" id="learn">
            <div class="section-header">
                <h2 class="section-title">Choose Your Adventure</h2>
                <p class="section-subtitle">Pick a module and start your learning journey!</p>
            </div>

            <div class="modules-grid">
                <!-- Phonics Module -->
                <div class="module-card"
                     onclick="openModule('phonics')"
                     role="button"
                     tabindex="0"
                     aria-label="Open Phonics Fun module"
                     onkeypress="if(event.key==='Enter' || event.key===' '){openModule('phonics'); event.preventDefault();}">
                    <div class="module-header">
                        <div class="module-icon-wrapper module-icon-purple">
                            <span>üî§</span>
                        </div>
                        <div class="module-info">
                            <h3 class="module-title">Phonics Fun</h3>
                            <span class="module-level">Level 1</span>
                        </div>
                    </div>
                    <p class="module-description">
                        Master letter sounds with interactive games and AI-powered pronunciation feedback!
                    </p>
                    <div class="module-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span>65%</span>
                        </div>
                        <div class="progress-bar-wrapper">
                            <div class="progress-bar-fill" style="width: 65%"></div>
                        </div>
                    </div>
                    <div class="module-footer">
                        <div class="module-points">‚≠ê 50 points</div>
                        <button class="play-btn">Play Now ‚Üí</button>
                    </div>
                </div>

                <!-- Spelling Module -->
                <div class="module-card"
                     onclick="openModule('spelling')"
                     role="button"
                     tabindex="0"
                     aria-label="Open Spelling Wizard module"
                     onkeypress="if(event.key==='Enter' || event.key===' '){openModule('spelling'); event.preventDefault();}">
                    <div class="module-header">
                        <div class="module-icon-wrapper module-icon-pink">
                            <span>‚úèÔ∏è</span>
                        </div>
                        <div class="module-info">
                            <h3 class="module-title">Spelling Wizard</h3>
                            <span class="module-level">Level 2</span>
                        </div>
                    </div>
                    <p class="module-description">
                        Conquer spelling challenges with visual hints and adaptive difficulty!
                    </p>
                    <div class="module-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span>45%</span>
                        </div>
                        <div class="progress-bar-wrapper">
                            <div class="progress-bar-fill" style="width: 45%"></div>
                        </div>
                    </div>
                    <div class="module-footer">
                        <div class="module-points">‚≠ê 75 points</div>
                        <button class="play-btn">Play Now ‚Üí</button>
                    </div>
                </div>

                <!-- Writing Module -->
                <div class="module-card"
                     onclick="openModule('writing')"
                     role="button"
                     tabindex="0"
                     aria-label="Open Writing Artist module"
                     onkeypress="if(event.key==='Enter' || event.key===' '){openModule('writing'); event.preventDefault();}">
                    <div class="module-header">
                        <div class="module-icon-wrapper module-icon-blue">
                            <span>üé®</span>
                        </div>
                        <div class="module-info">
                            <h3 class="module-title">Writing Artist</h3>
                            <span class="module-level">Level 1</span>
                        </div>
                    </div>
                    <p class="module-description">
                        Practice letter formation with guided tracing and creative drawing tools!
                    </p>
                    <div class="module-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span>30%</span>
                        </div>
                        <div class="progress-bar-wrapper">
                            <div class="progress-bar-fill" style="width: 30%"></div>
                        </div>
                    </div>
                    <div class="module-footer">
                        <div class="module-points">‚≠ê 60 points</div>
                        <button class="play-btn">Play Now ‚Üí</button>
                    </div>
                </div>

                <!-- Reading Module -->
                <div class="module-card"
                     onclick="openModule('reading')"
                     role="button"
                     tabindex="0"
                     aria-label="Open Story Explorer module"
                     onkeypress="if(event.key==='Enter' || event.key===' '){openModule('reading'); event.preventDefault();}">
                    <div class="module-header">
                        <div class="module-icon-wrapper module-icon-green">
                            <span>üìñ</span>
                        </div>
                        <div class="module-info">
                            <h3 class="module-title">Story Explorer</h3>
                            <span class="module-level">Level 2</span>
                        </div>
                    </div>
                    <p class="module-description">
                        Discover amazing stories with word highlighting and voice assistance!
                    </p>
                    <div class="module-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span>80%</span>
                        </div>
                        <div class="progress-bar-wrapper">
                            <div class="progress-bar-fill" style="width: 80%"></div>
                        </div>
                    </div>
                    <div class="module-footer">
                        <div class="module-points">‚≠ê 100 points</div>
                        <button class="play-btn">Play Now ‚Üí</button>
                    </div>
                </div>

                <!-- Memory Module -->
                <div class="module-card"
                     onclick="openModule('memory')"
                     role="button"
                     tabindex="0"
                     aria-label="Open Memory Master module"
                     onkeypress="if(event.key==='Enter' || event.key===' '){openModule('memory'); event.preventDefault();}">
                    <div class="module-header">
                        <div class="module-icon-wrapper module-icon-yellow">
                            <span>üß†</span>
                        </div>
                        <div class="module-info">
                            <h3 class="module-title">Memory Master</h3>
                            <span class="module-level">Level 3</span>
                        </div>
                    </div>
                    <p class="module-description">
                        Boost your memory with fun sequence games and pattern challenges!
                    </p>
                    <div class="module-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span>55%</span>
                        </div>
                        <div class="progress-bar-wrapper">
                            <div class="progress-bar-fill" style="width: 55%"></div>
                        </div>
                    </div>
                    <div class="module-footer">
                        <div class="module-points">‚≠ê 80 points</div>
                        <button class="play-btn">Play Now ‚Üí</button>
                    </div>
                </div>

                <!-- Story Builder Module -->
                <div class="module-card"
                     onclick="openModule('stories')"
                     role="button"
                     tabindex="0"
                     aria-label="Open Story Creator module"
                     onkeypress="if(event.key==='Enter' || event.key===' '){openModule('stories'); event.preventDefault();}">
                    <div class="module-header">
                        <div class="module-icon-wrapper module-icon-orange">
                            <span>üöÄ</span>
                        </div>
                        <div class="module-info">
                            <h3 class="module-title">Story Creator</h3>
                            <span class="module-level">Level 2</span>
                        </div>
                    </div>
                    <p class="module-description">
                        Create your own adventures with AI-powered story suggestions!
                    </p>
                    <div class="module-progress">
                        <div class="progress-label">
                            <span>Progress</span>
                            <span>20%</span>
                        </div>
                        <div class="progress-bar-wrapper">
                            <div class="progress-bar-fill" style="width: 20%"></div>
                        </div>
                    </div>
                    <div class="module-footer">
                        <div class="module-points">‚≠ê 90 points</div>
                        <button class="play-btn">Play Now ‚Üí</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Learning Area -->
        <div class="learning-area" id="learningArea" role="region" aria-live="polite">
            <div class="learning-header">
                <h2 class="learning-title">
                    <span id="moduleName">Phonics Fun</span>
                </h2>
                <button class="close-btn" onclick="closeLearningArea()" aria-label="Close learning area">‚úñ</button>
            </div>
            
            <div class="game-container" id="gameContainer">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
        </main>
    </div>

    <!-- Settings Panel -->
    <aside class="settings-panel" id="settingsPanel" role="complementary" aria-label="User settings" data-focus-trap="open">
        <div class="settings-header">
            <h3 class="settings-title">‚öôÔ∏è Settings</h3>
            <button class="close-btn" onclick="toggleSettings()" aria-label="Close settings panel">‚úñ</button>
        </div>
        <div class="user-profile-card" id="userProfileCard" aria-live="polite" hidden>
            <div class="user-profile-avatar" id="userProfileAvatar" aria-hidden="true">üë§</div>
            <div class="user-profile-info">
                <p class="user-profile-name" id="userProfileName">Guest Explorer</p>
                <p class="user-profile-email" id="userProfileEmail">Sign in to personalize BrightWords.</p>
            </div>
        </div>
        
        <div class="setting-item">
            <div class="setting-label">
                <span>üîä Text-to-Speech</span>
                <div class="toggle-switch active" id="ttsToggle">
                    <div class="toggle-slider"></div>
                </div>
            </div>
        </div>

        <div class="setting-item">
            <div class="setting-label">
                <span>üí° Visual Hints</span>
                <div class="toggle-switch active" id="hintsToggle">
                    <div class="toggle-slider"></div>
                </div>
            </div>
        </div>

        <div class="setting-item">
            <div class="setting-label">
                <span>üéµ Sound Effects</span>
                <div class="toggle-switch active" id="soundToggle">
                    <div class="toggle-slider"></div>
                </div>
            </div>
        </div>

        <div class="setting-item">
            <div class="setting-label">
                <span>üìä Difficulty Level</span>
            </div>
            <select id="difficultySelect" style="width: 100%; padding: 10px; border-radius: 10px; border: 2px solid #E5E7EB;">
                <option value="easy">Easy</option>
                <option value="medium">Medium</option>
                <option value="hard">Hard</option>
            </select>
        </div>

        <div class="setting-item">
            <div class="setting-label">
                <span>üé® Color Theme</span>
            </div>
            <div style="display: flex; gap: 10px;">
                <div id="theme-purple" class="theme-swatch" data-theme="purple" onclick="changeColorTheme('purple')" style="width: 40px; height: 40px; background: linear-gradient(135deg, #8B5CF6, #EC4899); border-radius: 10px; cursor: pointer; border: 3px solid transparent; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" onmouseenter="this.style.transform='scale(1.15)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)';" onmouseleave="if(!this.style.border.includes('1F2937')){this.style.transform='scale(1)'; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)';}"></div>
                <div id="theme-blue" class="theme-swatch" data-theme="blue" onclick="changeColorTheme('blue')" style="width: 40px; height: 40px; background: linear-gradient(135deg, #3B82F6, #10B981); border-radius: 10px; cursor: pointer; border: 3px solid transparent; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" onmouseenter="this.style.transform='scale(1.15)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)';" onmouseleave="if(!this.style.border.includes('1F2937')){this.style.transform='scale(1)'; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)';}"></div>
                <div id="theme-orange" class="theme-swatch" data-theme="orange" onclick="changeColorTheme('orange')" style="width: 40px; height: 40px; background: linear-gradient(135deg, #F59E0B, #FB923C); border-radius: 10px; cursor: pointer; border: 3px solid transparent; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" onmouseenter="this.style.transform='scale(1.15)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)';" onmouseleave="if(!this.style.border.includes('1F2937')){this.style.transform='scale(1)'; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)';}"></div>
            </div>
        </div>
    </aside>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup" role="dialog" aria-modal="true" aria-labelledby="achievementTitle" data-focus-trap="show">
        <div class="achievement-icon">üèÜ</div>
        <h3 class="achievement-title" id="achievementTitle">Amazing!</h3>
        <p class="achievement-desc" id="achievementDesc">You've earned a new achievement!</p>
        <button class="btn-primary" onclick="closeAchievement()" aria-label="Close achievement popup">Continue</button>
    </div>

        <footer class="site-footer" role="contentinfo" aria-label="Site footer">
            <p>BrightWords ‚Ä¢ Inclusive learning for every child.</p>
            <p>All Rights Reserved</p>
        </footer>

        <script src="main.js"></script>
        <script src="accessibility.js"></script>
    </div>
</body>
</html>

